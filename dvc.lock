schema: '2.0'
stages:
  data_process:
    cmd: python source/data_process.py data/telecom_churn.csv
    deps:
    - path: data/telecom_churn.csv
      hash: md5
      md5: 19765e62de31b7be19bb992cb20a793b
      size: 128783
    - path: source/data_process.py
      hash: md5
      md5: f8ade05edfd3de1b96635481d0d2aed3
      size: 887
    params:
      params.yaml:
        data_process.split_ratio: 0.2
    outs:
    - path: processed_data
      hash: md5
      md5: 67fd2a9616f7b5c0f26a784e6b884720.dir
      size: 148175
      nfiles: 2
  train:
    cmd: python source/train.py processed_data/out_train.csv model_dir/model.pkl
    deps:
    - path: processed_data/out_train.csv
      hash: md5
      md5: c018c80def31d3182ae52b2039551922
      size: 118416
    - path: source/train.py
      hash: md5
      md5: 8074beae771c8d2af4c96ec1755c320a
      size: 1230
    params:
      params.yaml:
        train.class_weight: balanced
        train.max_depth: 5
        train.min_samples_leaf: 1
        train.min_samples_split: 2
        train.n_estimators: 50
    outs:
    - path: model_dir/model.pkl
      hash: md5
      md5: abae1a50bb5ce942ec511c8692099324
      size: 215066
  evaluate:
    cmd: python source/evaluate.py model_dir/model.pkl processed_data/out_test.csv
    deps:
    - path: model_dir/model.pkl
      hash: md5
      md5: abae1a50bb5ce942ec511c8692099324
      size: 215066
    - path: source/evaluate.py
      hash: md5
      md5: a92117f2c9da9ed59f843315a4fba535
      size: 2400
    outs:
    - path: results/predictions_vs_actuals.csv
      hash: md5
      md5: e830d31ce372c187b67f5af410f797c5
      size: 5244
